# 專案總結報告：IdeaBox (靈感收集盒)

## 1. 專案概述
這是一個基於 iOS 平台的個人靈感收集 App，旨在幫助使用者快速記錄、分類和回顧來自不同來源（如電影、書籍、日常對話）的點子與佳句。專案強調簡潔、快速的操作體驗，並採用現代化的 UI 設計風格。

## 2. 核心功能
*   **靈感收集 (Add Idea)**：
    *   快速新增點子，包含內文、備註。
    *   支援選擇或即時新增「來源」、「場景」、「標籤」。
    *   支援編輯現有點子。
*   **首頁 (Home / Inspiration)**：
    *   **拉霸機式瀏覽**：以垂直滾動的卡片流呈現所有靈感，具備吸附效果，提供沉浸式閱讀體驗。
    *   **來源篩選**：頂部設有橫向滾動的來源選擇列，可快速過濾特定來源（如「電影」、「書本」）的內容。
*   **分類管理**：
    *   **場景 (Scenes)**：類似播放清單的概念，以長條形卡片呈現，支援多選篩選。
    *   **標籤 (Tags)**：以標籤雲/網格形式呈現，支援多選篩選，可即時過濾出同時符合多個標籤的內容。
*   **搜尋 (Search)**：
    *   支援對內文和備註進行關鍵字搜尋。
*   **設定與管理 (Settings)**：
    *   集中管理所有資料（點子、場景、標籤、來源）。
    *   支援長按編輯與刪除功能。

## 3. 技術實作與亮點
本專案嚴格遵循 Swift 與 iOS 開發的最新最佳實踐，主要技術棧如下：

### 3.1 資料持久化：SwiftData
*   **應用**：全面取代 Core Data，用於儲存 `Idea`, `Scene`, `Tag`, `Source` 等所有資料模型。
*   **技術細節**：
    *   使用 `@Model` 宏定義資料模型。
    *   使用 `@Query` 在 View 中進行即時資料查詢與排序。
    *   利用 SwiftData 的隱式關聯（Relationships）處理 `Idea` 與 `Scene`/`Tag` 的多對多關係。
    *   **優勢**：大幅減少樣板程式碼，與 SwiftUI 整合度極高，且無需繁瑣的設定即可運作。

### 3.2 使用者介面：SwiftUI
*   **應用**：全 App 介面皆使用 SwiftUI 建構。
*   **技術細節**：
    *   **NavigationStack**：使用 iOS 16+ 的新一代導航架構，管理頁面跳轉。
    *   **ScrollView & ScrollTargetBehavior**：在首頁實作「拉霸機」效果，使用 `.viewAligned` 實現卡片的吸附滾動。
    *   **LazyVGrid / LazyVStack**：在場景與標籤頁面使用惰性載入容器，優化長列表的效能。
    *   **ContainerRelativeFrame**：精確控制卡片在不同螢幕尺寸下的比例。
    *   **Dark Mode Aesthetic**：特別針對深色模式優化 UI，使用漸層、陰影與半透明材質提升質感。

### 3.3 狀態管理與資料流
*   **應用**：確保 UI 與資料狀態同步。
*   **技術細節**：
    *   **@State & @Binding**：管理 View 內部的暫時狀態（如輸入框內容、選單顯示）。
    *   **@Environment**：存取全域環境變數，如 `modelContext` (資料庫操作) 和 `dismiss` (關閉頁面)。
    *   **Observable (Swift 5.9+)**：雖然 SwiftData 的 `@Model` 已內建觀察機制，但在 `IdeaDetailView` 中使用 `@Bindable` 來實現對模型屬性的直接綁定與編輯。

### 3.4 其他技術特點
*   **泛型 (Generics)**：在 `ManageItemsView` 和 `SelectionView` 中使用泛型，實現了一套程式碼同時管理 `Scene`, `Tag`, `Source` 三種不同但結構相似的資料模型，大幅提高程式碼重用性。
*   **Swift Concurrency**：雖然本專案主要為本地操作，但在架構上已預留了非同步操作的空間（如未來擴充雲端同步）。
*   **原生 API 優先**：堅持使用 iOS 原生 API（如 `RelativeDateTimeFormatter`）取代第三方套件，確保 App 的穩定性與輕量化。

## 4. 檔案結構
*   **Models/**：`Idea.swift`, `Scene.swift`, `Tag.swift`, `Source.swift` (資料模型定義)
*   **Views/**：
    *   `HomeView.swift` (首頁/靈感流)
    *   `SceneListView.swift`, `TagListView.swift` (分類瀏覽)
    *   `AddIdeaView.swift` (新增/編輯)
    *   `IdeaDetailView.swift` (詳情展示)
    *   `FilteredIdeaListView.swift` (共用的列表展示元件)
    *   `SelectionView.swift`, `ManageItemsView.swift` (共用的選擇與管理元件)
*   **Protocols/**：`Nameable.swift` (定義有名稱屬性的模型協定)
*   **Extensions/**：`Color+Extensions.swift` (隨機漸層色生成工具)

## 5. 結論
本專案成功在短時間內達成了一個功能完整、介面現代且程式碼架構清晰的 iOS App。透過靈活運用 SwiftData 和 SwiftUI 的最新特性，不僅解決了複雜的資料關聯與篩選需求，更創造了流暢的使用者體驗。
